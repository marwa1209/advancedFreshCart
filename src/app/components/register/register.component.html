<section class="my-3 w-75 mx-auto">
  <h1 class="my-4">RegisterNow</h1>
  <div class="rounded shadow p-4 bg-main-light">
    <div
      class="text-success text-center"
      [ngClass]="{ 'text-danger': !isValid }"
    >
      {{ message }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="handleSubmit()">
      <!-- Name -->
      <app-input
        label="Name"
        [control]="registerForm.get('name')!"
        id="name"
        [errorMessages]="{
          required: 'Name is required.',
          minlength: 'Name must be at least 3 characters long.',
          maxlength: 'Name cannot be more than 5 characters long.'
        }"
      ></app-input>

      <!-- Email -->
      <app-input
        label="Email"
        [control]="registerForm.get('email')!"
        id="email"
        type="email"
        [errorMessages]="{
          required: 'Email is required.',
          email: 'Enter a valid email address.'
        }"
      ></app-input>

      <!-- Password -->
      <app-input
        label="Password"
        [control]="registerForm.get('password')!"
        id="password"
        type="password"
        [errorMessages]="{
          required: 'Password is required.',
          pattern:
            'Password must be at least 6 characters long and c an include letters, numbers, and symbols.'
        }"
      ></app-input>

      <!-- RePassword -->
      <app-input
        label="RePassword"
        [control]="registerForm.get('rePassword')!"
        id="repassword"
        type="password"
        [errorMessages]="{
          required: 'RePassword is required.',
          mismatch: 'Passwords do not match.'
        }"
      ></app-input>

      <!-- Phone -->
      <app-input
        label="Phone"
        [control]="registerForm.get('phone')!"
        id="phone"
        type="tel"
        [errorMessages]="{
          required: 'Phone number is required.',
          pattern: 'Enter a valid phone number.'
        }"
      ></app-input>

      <!-- Submit button -->
      <button
        [disabled]="registerForm.invalid"
        type="submit"
        class="btn btn-main"
      >
        Register @if(isLoading){<span
          ><i class="fa fa-spin fa-spinner"></i></span
        >}
      </button>
    </form>
  </div>
</section>
